
 <span><%= link_to admin_productdetail_path,class: 'btn btn-primary float-right mt-1 mr-1' do %>
            <i class="fas fa-eye"></i>
          <% end %></span>
<h1>Edit Product Detail</h1>



<section class="content">
  <div class="row">
    <div class="col-md-6">
      <div class="card card-primary" >
        <div class="card-header" style="background-color:#007bff;">
          <div class="d-flex justify-content-between align-items-center">
            <h3 class="card-title mb-0">General</h3>

            <div class="card-tools">
              <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="card-body">
        <%= form_with(model: @productdetail, url: admin_productdetail_path(@productdetail), class: "form", method: :patch) do |form| %>
            <% if @productdetail.errors.any? %>
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <h5 class="alert-heading"> <%= pluralize(@productdetail.errors.count, "error") %> prohibited this productdetail from being saved:</h2>

                <ul>
                  <% @productdetail.errors.each do |error| %>
                    <li class="alert-heading"><%= error.full_message %></li>
                  <% end %>
                </ul>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
              </div>
            <% end %>

            <div class="form-group">
              <%= form.label :product_title %>
              <%= form.text_field :product_title, class: "form-control", id: "inputName" %>
            </div>

            <div class="form-group">
              <%= form.label :brand %>
              <%= form.text_field :brand, class: "form-control" %>
            </div>

          
           <div class="form-group">
        <%= form.label :price %>
        <%= form.text_field :price, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :list_price %>
        <%= form.text_field :list_price, class: "form-control" %>
      </div>

  <div class="form-group">
    <%= form.label :description %>
    <%= form.rich_text_area :description, class: "form-control", id: "inputDescription", rows: 4 %>
  </div>


      <div class="form-group">
        <%= form.label :sku %>
        <%= form.text_field :sku, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :tags %>
        <%= form.text_area :tags, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :product_type %>
        <%= form.text_field :product_type, class: "form-control" %>
      </div>
      
     

     <div class="form-group">
  <div class="form-check form-switch">
    <%= form.check_box :status, class: "form-check-input", id: "statusSwitch" %>
    <%= form.label :status, class: "form-check-label", for: "statusSwitch" %>
  </div>
</div>



      <div class="form-group">
        <%= form.label :meta_title %>
        <%= form.text_field :meta_title, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :meta_description %>
        <%= form.text_area :meta_description, class: "form-control", rows: 4 %>
      </div>
      <div class="form-group">
        <%= form.label :Inventory %>
        <%= form.number_field  :inventory, class: "form-control" %>
      </div>

      <%# <div class="form-group">
        <%#= form.label :vendor_id %>
        <%#= form.collection_select :vendor_id, @vendors, :id, :first_name, { prompt: "Select Vendor" }, class: "form-control" %>
    
 <div class="form-actions">
              <%= form.submit "Save", class: "btn btn-primary" %>
            </div>
           
          <% end %>
        </div>
        <!-- /.card-body -->
      </div>
      <!-- /.card -->
    </div>


   <!-- File Card -->
<div class="col-md-6">
  <div class="card card-primary">
      <!-- Card Header -->
      <div class="card-header" style="background-color: #17a2b8">
        <div class="d-flex justify-content-between align-items-center">
          <h3 class="card-title mb-0">File</h3>
          <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
              <i class="fas fa-minus"></i>
            </button>
          </div>
        </div>
    </div>

  <!-- Card Body -->
  <div class="card-body">
  <%= form_with(model: @productdetail, url: admin_productdetail_path(@productdetail), class: "form", method: :patch) do |form| %>

    
      <div class="form-group">
        <%= form.label :selected_images, "Selected Images" %>
        <div class="image-gallery">
          <% @productdetail.images.each_with_index do |image, index| %>

                  <div class="gallery-image d-flex align-items-center">
                      <%= image_tag image.variant(resize_to_limit: [100, 100]), class: 'gallery-thumbnail mt-2 mb-2', style: "width:75px; height:100px;" %>
                      <div class="image-options d-flex align-items-center ml-3">
                        <label class="mr-3">
                          <%= check_box_tag "productdetail[feature_image_id]", image.id, image.id == @productdetail.feature_image_id, class: 'feature-checkbox' %>
                          Feature Image
                        </label>

                            <%= form.file_field :images, multiple: false, name: "productdetail[images][#{index}]", class: "d-block mt-2 mr-3",style: "width:221px; height:45px;" %>
                            <%= link_to delete_image_admin_productdetail_url(@productdetail, image_id: image.id), method: :delete, data: { confirm: "Are you sure you want to delete this image?" } do %>
                              <i class="fas fa-trash"></i> 
                            <% end %>
                      </div>
                  </div>

          <% end %>
        </div>
      </div>  

      <!-- New Images -->
      <div class="form-group">
        <%= form.label :images, "New Images" %>
        <%= form.file_field :images, multiple: true, class: "form-control" %>
      </div>

      <!-- Submit Button -->
      <div class="form-actions">
        <%= form.submit "Save", class: "btn btn-primary" %>
      </div>
    <% end %>
  </div>
  <!-- /.card-body -->
</div>
<!-- /.card -->
</div>
  
</section>



